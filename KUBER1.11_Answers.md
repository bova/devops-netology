# Домашнее задание к занятию «Компоненты Kubernetes»

Задание. Необходимо определить требуемые ресурсы
Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

1. Необходимо упаковать приложение в чарт для деплоя в разные окружения.
2. База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
3. Кеш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
4. Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
5. Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.


**Решение**

| **Компонент**               | **CPU** | **RAM** | **Replica** | **CPU ALL** | **RAM ALL** |
| --------------------------- | ------- | ------- | ----------- | ----------- | ----------- |
| БД                          | 1       | 4096    | 3           | 3           | 12288       |
| Кэш                         | 1       | 4096    | 3           | 3           | 12288       |
| Фронт                       | 0.2     | 50      | 5           | 1           | 250         |
| Бэкэнд                      | 1       | 600     | 10          | 10          | 6000        |
| Reserv для Нод              |         |         |             |             | 7200        |
| **Итого:**                  |         |         |             | 17          | 38026       |
| **Итого (С запасом +34%):** |         |         |             | 23          | 50          |


**Результат**

Итоговые ресурсы округлены для удобства
Выбрана конфигурация с четырьмя рабочими узлами

| Узел           | CPU | RAM | Описание     |
| -------------- | --- | --- | ------------ |
| master01       | 2   | 4   | Contol Plane |
| master02       | 2   | 4   | Contol Plane |
| master03       | 2   | 4   | Contol Plane |
| worker01       | 6   | 13  | Рабочий узел |
| worker02       | 6   | 13  | Рабочий узел |
| worker03       | 6   | 13  | Рабочий узел |
| worker04       | 6   | 13  | Рабочий узел |
| Сумма ресурсов | 24  | 52  |              |